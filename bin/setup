# Have to install curl to install nix package manager
sudo apt install curl -y

# Install nix package manager
sh <(curl -L https://nixos.org/nix/install) --daemon --yes

# Have to start a new shell to get new nix commands
source /etc/profile

nix-channel --add https://github.com/nix-community/home-manager/archive/release-23.11.tar.gz home-manager

nix-channel --update

mv ~/.bashrc ~/.bashrc.backup

mv ~/.profile ~/.profile.backup

nix-shell '<home-manager>' -A install

sudo snap remove --purge firefox

sudo apt purge curl git firefox -y

sudo apt autoremove -y

source /etc/profile

home-manager switch --extra-experimental-features 'nix-command flakes'

