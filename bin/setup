#! /usr/bin/env bash

# Backup files
mv ~/.bashrc ~/.bashrc.backup
mv ~/.profile ~/.profile.backup

# Have to install curl to install nix package manager
sudo apt install curl -y

# Install nix package manager
sh <(curl -L https://nixos.org/nix/install) --daemon --yes

# Source to get nix commands
source /etc/profile

# Remove programs so there are no conflicts with nix packages
./remove-programs

nix --extra-experimental-features 'nix-command flakes' run .#homeConfigurations."runner".activationPackage
